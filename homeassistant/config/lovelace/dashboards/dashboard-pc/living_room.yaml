---

title: "Living Room"
icon: mdi:sofa
cards:
  - type: custom:room-card
    title: "Living room"
    entity: light.living_room_lights
    tap_action:
      action: toggle
    icon: mdi:lightbulb-outline
    info_entities:
      - entity: binary_sensor.living_room_motion
        show_icon: true
      - entity: binary_sensor.main_door
        show_icon: true
        icon:
          state_on: mdi:door-open
          state_off: mdi:door-closed
      - entity: binary_sensor.living_room_window_contact
        show_icon: true
        icon:
          state_on: mdi:door-open
          state_off: mdi:door-closed
      - entity: sensor.living_room_shutter_position
        show_icon: true
      - entity: sensor.living_room_illuminance
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.living_room_temperature
                name: "Temperature"
                show_points: false
              - entity: sensor.living_room_set_temp
                color: 'white'
                show_fill: false
              - !include ../../resources/graph_card_sun_elevation.yaml
            font_size: 80
            color_thresholds: !include ../../resources/graph_card_temperature_thresholds.yaml
            points_per_hour: 3
            show:
              fill: fade
              points: false
              labels: false
              labels_secondary: false
              legend: false
              extrema: true
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.living_room_humidity
                name: "Humidity"
                color: '#74A4F4'
              - !include ../../resources/graph_card_sun_elevation.yaml
            font_size: 80
            lower_bound: 0
            upper_bound: 100
            points_per_hour: 3
            show:
              fill: fade
              points: false
              labels: false
              labels_secondary: false
              legend: false
              extrema: true
      - type: custom:simple-thermostat
        entity: climate.living_room
        header: false
        layout:
          step: row
      - type: entities
        show_header_toggle: false
        entities:
          - entity: cover.living_room_shutter
            name: "Shutter"
      - type: glance
        columns: 4
        entities:
          - entity: sensor.living_room_thermal_comfort_perception
            name: "Comfort scale"
      # - type: custom:mini-graph-card
      #   points_per_hour: 3
      #   entities:
      #     - entity: sensor.2_5um_particles_in_the_kitchen
      #       name: 2.5um
      #       show_state: true
      #     - entity: sensor.10um_particles_in_the_kitchen
      #       name: 10um
      #       show_state: true
      #     - !include ../../resources/graph_card_sun_elevation.yaml
      #   show:
      #     points: false
      #     fill: false
      #     name: false
      # - type: custom:hui-element
      #   card_type: light
      #   entity: light.kitchen_led_strip
      # - type: custom:hui-element
      #   card_type: picture-entity
      #   entity: binary_sensor.kitchen
      #   camera_image: camera.kitchen_camera

  - type: entities
    show_header_toggle: false
    entities:
      - type: custom:hui-element
        card_type: light
        entity: light.living_room_ceiling_light
      - type: custom:hui-element
        card_type: horizontal-stack
        cards:
          - type: light
            entity: light.wall_light_right
          - type: light
            entity: light.wall_light_left

  - type: entities
    entities:
      - type: custom:hui-element
        card_type: picture-entity
        entity: vacuum.mi_vacuum
        camera_image: camera.vacuum_map
      - type: custom:hui-element
        card_type: markdown
        entity_id: vacuum.mi_vacuum
        content: |
          Last cleaned at {{ as_timestamp(states('sensor.mi_vacuum_last_clean_end')) | timestamp_custom('%A at %H:%M')}}
          It took {{ ((states('sensor.mi_vacuum_last_clean_duration') | int(default=0)) / 60) | round(0) }} minutes to clean {{ (states('sensor.mi_vacuum_last_clean_area') | round(1)) }} meters.

  - type: entities
    entities:
      - type: custom:button-card
        color_type: label-card
        color: rgb(44, 109, 214)
        name: "Dishwasher"
      - type: custom:hui-element
        card_type: glance
        entities:
          - entity: binary_sensor.400090386855001425_bsh_common_status_doorstate
            name: "Door"
          - entity: sensor.400090386855001425_bsh_common_setting_powerstate
            name: "Power state"
            tap_action:
              action: call-service
              service: select.select_option
              data:
                option: 'on'
              target:
                entity_id: select.400090386855001425_bsh_common_setting_powerstate
          - entity: sensor.400090386855001425_bsh_common_status_operationstate
            name: "OP state"
      - type: conditional
        conditions:
          - entity: binary_sensor.400090386855001425_bsh_common_option_remainingprogramtimeisestimated
            state: 'on'
        row:
          entity: sensor.400090386855001425_bsh_common_option_remainingprogramtime
          format: relative
          name: "Remaining time"
      - type: conditional
        conditions:
          - entity: binary_sensor.400090386855001425_bsh_common_option_remainingprogramtimeisestimated
            state: 'on'
        row:
          entity: sensor.400090386855001425_bsh_common_option_programprogress
          type: custom:bar-card
          entity_row: true
          name: "Progress"
